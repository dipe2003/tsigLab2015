<?xml version="1.0" encoding="UTF-8"?>

<!DOCTYPE html>
<html xmlns="http://www.w3.org/1999/xhtml"
      xmlns:h="http://xmlns.jcp.org/jsf/html"
      xmlns:f="http://xmlns.jcp.org/jsf/core"
      xmlns:ui="http://xmlns.jcp.org/jsf/facelets"
      xmlns:p="http://xmlns.jcp.org/jsf/passthrough"
      xmlns:c="http://xmlns.jcp.org/jsp/jstl/core">
    <h:head>
        <meta charset='utf-8' />
        <title>Busco Haus</title>
                <style>
                    .olControlCustomButtonToggleItemActive {
                        right: 10px !important;
                        background: #076799 none repeat scroll 0% 0%;
                        cursor: pointer;
                        height: 28px;
                        width: 100px;
                        margin-top: 5px;
                        color: white;
                    }
                    .olControlCustomButtonToggleItemInactive {
                        right: 10px !important;
                        background: #A8CF45 none repeat scroll 0% 0%;
                        cursor: pointer;
                        height: 28px;
                        width: 100px;
                        margin-top: 5px;
                        color: white;
                    }
        </style>
        
        <script type='text/javascript' src='http://maps.google.com/maps/api/js?v=3.5'/>
        <script type='text/javascript' src='./Resources/OpenLayers/OpenLayers.js'/>
              
        <link rel="stylesheet" href="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/css/bootstrap.min.css"/>
        <script src="https://ajax.googleapis.com/ajax/libs/jquery/1.11.3/jquery.min.js"></script>
        <script src="http://maxcdn.bootstrapcdn.com/bootstrap/3.3.5/js/bootstrap.min.js"></script>
        
        <script type="text/javascript" src="./Resources/Javascript/init.js"/>
        <script type="text/javascript" src="./Resources/Javascript/init_Home.js"/>
        <script type="text/javascript" src="./Resources/Javascript/init_Admin.js"/>
        
        <link rel="stylesheet" href="Resources/Css/Base.css" />
        <link rel="stylesheet" href="Resources/Css/Mensajes.css" />

    </h:head>
    
    <h:body onload='init(); init_listado(); init_admin();' style="background-color: #EEE;">
        <div id="header">
            <div id="headerCenter">
                <h:form id="login">
                    <div id="formLogin">
                        <h:panelGroup rendered="#{!login.usuarioLogueado}">
                            Usuario <h:inputText class="form-control loginInput" value="#{login.nickname}"/>
                            Password <h:inputSecret class="form-control loginInput" value="#{login.password}"/>
                            <h:commandButton id="login" class="btn btn-success loginButton" action="#{login.login()}" value="Ingresar"/>
                            <h:commandButton id="reg" class="btn btn-success loginButton" action="#{registroUsuarioBean.regUsr()}" value="Registrarse"/>
                            <h:message for="login" />
                        </h:panelGroup>
                        <h:panelGroup rendered="#{login.usuarioLogueado}">
                            <h:outputText class="nickLogueado" value="#{login.nickname}"/>
                            <h:commandButton id="logout" class="btn btn-success loginButton" action="#{login.logout()}" value="Salir"/>
                        </h:panelGroup>
                    </div>
                </h:form>
                <div id="iconContainer">
                    <img src="Resources/Images/logo.png" width="349" height="149" alt="logo"/>
                </div>
            </div>
        </div>
        <div id="hoja">
            <div id="menu">
                <a href="index.xhtml">
                <div class="menuItem">Home</div>
                </a>                
                <a href="listarPropiedades.xhtml" >
                <div class="menuItem">Listar Propiedades</div>
                </a>
                <h:panelGroup rendered="#{login.usuarioLogueado}">
                <a href="registrarPropiedad.xhtml" >
                <div class="menuItem">Registrar Propiedad</div>
                </a>
                </h:panelGroup>
                <h:panelGroup rendered="#{login.usuarioLogueado}">
                <a href="administrarPropiedades.xhtml" >
                <div class="menuItem">Administrar Propiedadades</div>
                </a>
                </h:panelGroup>
            </div>
            
            <h:panelGroup >
            <ui:insert name="page_content" >
                <div  id='map_element_listado' class="mapa"></div>
                    <div class="tituloGrande">
                    Bienvenido
                </div>
            </ui:insert>
            </h:panelGroup>           
        </div>
    </h:body>
</html>
